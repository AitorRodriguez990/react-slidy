{"dependencies":[{"name":"/Users/miguelangel.duran/Dev/react-slidy/.babelrc","includedInParent":true,"mtime":1520271563719},{"name":"/Users/miguelangel.duran/Dev/react-slidy/package.json","includedInParent":true,"mtime":1521561185625},{"name":"react","loc":{"line":1,"column":43}},{"name":"prop-types","loc":{"line":2,"column":22}},{"name":"just-debounce-it","loc":{"line":3,"column":21}},{"name":"./Arrow","loc":{"line":5,"column":22}},{"name":"./Frame","loc":{"line":6,"column":22}},{"name":"intersection-observer","loc":{"line":13,"column":10}},{"name":"./move","loc":{"line":14,"column":23}}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var e=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],i=!0,n=!1,o=void 0;try{for(var l,a=e[Symbol.iterator]();!(i=(l=a.next()).done)&&(r.push(l.value),!t||r.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(n)throw o}}return r}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),t=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),r=require(\"react\"),i=u(r),n=require(\"prop-types\"),o=u(n),l=require(\"just-debounce-it\"),a=u(l),s=require(\"./Arrow\"),d=require(\"./Frame\");function u(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function f(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function c(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=function(){},v=_;\"undefined\"!=typeof window&&window.document&&(require(\"intersection-observer\"),v=require(\"./move\").moveScroll);var p=function(n){function o(e){h(this,o);var t=f(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));return t.observer=null,t.state={currentIndex:0,showSlider:!t.props.lazyLoadSlider},t._frameDOMEl=void 0,t._sliderDOMEl=void 0,t._sliderWidth=0,t._slidesKey=0,t._slides=i.default.Children.toArray(t.props.children),t._getSliderWidth=t._getSliderWidth.bind(t),t._handleIntersection=t._handleIntersection.bind(t),t._handleNext=t._handleNext.bind(t),t._handlePrev=t._handlePrev.bind(t),t._handleResize=(0,a.default)(t._handleResize.bind(t),200),t._handleSlide=t._handleSlide.bind(t),t._handleTouchEnd=t._handleTouchEnd.bind(t),t._setFrameRef=t._setFrameRef.bind(t),t}return c(o,r.Component),t(o,[{key:\"componentDidMount\",value:function(){if(this.props.lazyLoadSlider){if(!(\"IntersectionObserver\"in window))return void this.setState({showSlider:!0});var e=this.props.lazyLoadConfig.offset,t=void 0===e?0:e;this.observer=new window.IntersectionObserver(this._handleIntersection,{rootMargin:t+\"px 0px 0px\"}),this.observer.observe(this._sliderDOMEl)}this._handleResize(),window.addEventListener(\"resize\",this._handleResize)}},{key:\"componentDidCatch\",value:function(e,t){console.error({error:e,errorInfo:t})}},{key:\"shouldComponentUpdate\",value:function(e,t){return!0}},{key:\"componentWillReceiveProps\",value:function(e){e.children;e.dynamicContent&&(this._slides=i.default.Children.toArray(this.props.children),this._slidesKey++)}},{key:\"componentWillUnmount\",value:function(){this.observer&&this.observer.disconnect(),window.removeEventListener(\"resize\",this._handleResize)}},{key:\"_getSliderWidth\",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).force,t=void 0!==e&&e;(0===this._sliderWidth||t)&&(this._sliderWidth=this._sliderDOMEl.clientWidth)}},{key:\"_handleIntersection\",value:function(t,r){var i=e(t,1)[0];(i.isIntersecting||i.intersectionRatio>0)&&(r.unobserve(i.target),this.setState({showSlider:!0}))}},{key:\"_handleNext\",value:function(e){e.preventDefault(),this._handleSlide({direction:1})}},{key:\"_handlePrev\",value:function(e){e.preventDefault(),this._handleSlide({direction:-1})}},{key:\"_handleTouchEnd\",value:function(e){var t=this;e.preventDefault(),e.stopPropagation();var r=this.state.currentIndex,i=this._frameDOMEl.scrollLeft,n=r*this._sliderWidth,o=n<i?1:-1,l=n+this._sliderWidth/3*o,a=r+o,s=a*this._sliderWidth,d=n;(1===o&&i>l||-1===o&&i<l)&&(d=s,this._updateCurrentIndex({index:a})),navigator.userAgent.toLowerCase().indexOf(\"android\")>-1?setTimeout(function(){return v(t._frameDOMEl,d)},400):v(this._frameDOMEl,d)}},{key:\"_handleSlide\",value:function(e){var t=e.direction,r=this.state.currentIndex+t;if(!(r>=this._slides.length||r<0)){var i=r*this._sliderWidth;v(this._frameDOMEl,i),this._updateCurrentIndex({index:r})}}},{key:\"_handleResize\",value:function(){var e=this.state,t=e.currentIndex;e.showSlider&&this._frameDOMEl&&(this._getSliderWidth({force:!0}),v(this._frameDOMEl,t*this._sliderWidth))}},{key:\"_updateCurrentIndex\",value:function(e){var t=e.index;this.setState({currentIndex:t})}},{key:\"_setFrameRef\",value:function(e){this._frameDOMEl=e}},{key:\"render\",value:function(){var e=this,t=this.state,n=t.currentIndex,o=t.showSlider,l=this.props,a=l.classNameBase,u=l.lazyLoadConfig,h=l.lazyLoadSlides,f=l.showArrows,c=u.itemsToPreload,_=this._slides.length;return i.default.createElement(\"div\",{className:this.props.classNameBase,onMouseEnter:this._getSliderWidth,onTouchEnd:this._handleTouchEnd,onTouchStart:this._getSliderWidth,ref:function(t){e._sliderDOMEl=t}},o&&f&&i.default.createElement(r.Fragment,null,i.default.createElement(s.Arrow,{className:a+\"-prev\",disabled:0===n,onClick:this._handlePrev}),i.default.createElement(s.Arrow,{className:a+\"-next\",disabled:n===_-1,onClick:this._handleNext})),o&&i.default.createElement(d.Frame,{className:a,currentIndex:n,items:this._slides,itemsToPreload:c,lazyLoadSlides:h,setRef:this._setFrameRef,slidesKey:this._slidesKey}))}}]),o}();exports.default=p,p.propTypes={children:o.default.oneOfType([o.default.array,o.default.object]).isRequired,classNameBase:o.default.string,doAfterDestroy:o.default.func,doAfterSlide:o.default.func,doBeforeSlide:o.default.func,initialSlide:o.default.number,lazyLoadSlider:o.default.bool,lazyLoadSlides:o.default.bool,lazyLoadConfig:o.default.shape({itemsToPreload:o.default.number,offset:o.default.number,overflow:o.default.bool}),showArrows:o.default.bool},p.defaultProps={classNameBase:\"react-Slidy\",doAfterDestroy:_,doAfterSlide:_,doBeforeSlide:_,initialSlide:0,lazyLoadSlider:!0,lazyLoadSlides:!0,lazyLoadConfig:{itemsToPreload:2,offset:150},showArrows:!0};"},"hash":"04d94f7dd2305c32ca3fa8babda0ae42","cacheData":{"env":{}}}